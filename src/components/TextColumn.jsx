import React from 'react'
import TextContainer from './TextContainer'
import { RATIO } from '../utils'

const TextColumn = ({ children, footnotes }) => (
  <div
    css={`
      position: relative;
      display: grid;
      grid-template-columns: ${RATIO}fr 1fr;

      // The CSS classes selected below are auto-generated by Gatsby,
      // hence a lack of more specific styling via styled-components

      // Stop code blocks, images and footnotes from overflowing
      .gatsby-highlight,
      .gatsby-resp-image-link,
      .no-overflow,
      .footnotes {
        overflow: scroll;
        // Set max-width to viewport width, minus the width of the TextColumn
        // spacer divs specified above in grid-template-columns
        max-width: calc(
          100vw -
            ${({ theme }) => `${theme.sizes.s2} - ${theme.sizes.s2}`}
        );
      }
    `}
  >
    <TextContainer>{children}</TextContainer>
    <div/>
  </div>
)

export default TextColumn
